(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8071:(e,t,s)=>{Promise.resolve().then(s.bind(s,9319))},9319:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),r=s(2115);let l=()=>{let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(!1),i=async()=>{if(s.trim()){let e={text:s,sender:"user"};t(t=>[...t,e]),l(""),o(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{role:"user",content:s}])});if(!e.ok)throw Error("Failed to fetch response");let a=await e.text();t(e=>[...e,{text:a,sender:"bot"}])}catch(e){console.error("Error:",e),t(e=>[...e,{text:"Sorry, something went wrong. Please try again.",sender:"bot"}])}finally{o(!1)}}};return(0,a.jsxs)("div",{className:"flex flex-col h-screen p-4 bg-gray-100",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:[e.map((e,t)=>(0,a.jsx)("div",{className:"p-3 rounded-lg max-w-[80%] ".concat("user"===e.sender?"bg-blue-500 text-white self-end":"bg-gray-200 text-gray-800 self-start"),children:e.text},t)),n&&(0,a.jsx)("div",{className:"p-3 rounded-lg max-w-[80%] bg-gray-200 text-gray-800 self-start",children:"Typing..."})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&i(),className:"flex-1 p-2 border rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Type a message...","aria-label":"Type a message",disabled:n}),(0,a.jsx)("button",{onClick:i,className:"p-2 bg-blue-500 text-white rounded-r hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Send message",disabled:n,children:"Send"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(8071)),_N_E=e.O()}]);